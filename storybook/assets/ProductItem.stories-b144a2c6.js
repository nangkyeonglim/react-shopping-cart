import{j as re}from"./jsx-runtime-6eef64cc.js";import{R as Z}from"./index-c013ead5.js";import{R as Gr}from"./index-169ee69c.js";import{i as Re}from"./styled-components.browser.esm-52fdd7b7.js";import{S as qr}from"./StepperInput-a7685fe3.js";import{S as Kr}from"./ShoppingCartLogo-2797b1dc.js";import"./_commonjsHelpers-725317a4.js";function jr(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var Hr=jr,M=Hr;function Zr(e){return!!e&&typeof e.then=="function"}var G=Zr;function Yr(e,t){if(e!=null)return e;throw M(t??"Got unexpected null or undefined")}var H=Yr;function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wt{getValue(){throw M("BaseLoadable")}toPromise(){throw M("BaseLoadable")}valueMaybe(){throw M("BaseLoadable")}valueOrThrow(){throw M(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw M("BaseLoadable")}promiseOrThrow(){throw M(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw M("BaseLoadable")}errorOrThrow(){throw M(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw M("BaseLoadable")}}class Qr extends wt{constructor(t){super(),$(this,"state","hasValue"),$(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return G(n)?Ce(n):xe(n)?n:at(n)}catch(n){return G(n)?Ce(n.next(()=>this.map(t))):At(n)}}}class Jr extends wt{constructor(t){super(),$(this,"state","hasError"),$(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class mo extends wt{constructor(t){super(),$(this,"state","loading"),$(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Ce(this.contents.then(n=>{const o=t(n);if(xe(o)){const r=o;switch(r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":return r.contents}}return o}).catch(n=>{if(G(n))return n.then(()=>this.map(t).contents);throw n}))}}function at(e){return Object.freeze(new Qr(e))}function At(e){return Object.freeze(new Jr(e))}function Ce(e){return Object.freeze(new mo(e))}function vo(){return Object.freeze(new mo(new Promise(()=>{})))}function Xr(e){return e.every(t=>t.state==="hasValue")?at(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?At(H(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ce(Promise.all(e.map(t=>t.contents)))}function So(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(r=>e[r])).map(r=>xe(r)?r:G(r)?Ce(r):at(r)),o=Xr(n);return Array.isArray(e)?o:o.map(r=>Object.getOwnPropertyNames(e).reduce((a,s,l)=>({...a,[s]:r[l]}),{}))}function xe(e){return e instanceof wt}const ea={of:e=>G(e)?Ce(e):xe(e)?e:at(e),error:e=>At(e),loading:()=>vo(),all:So,isLoadable:xe};var Ie={loadableWithValue:at,loadableWithError:At,loadableWithPromise:Ce,loadableLoading:vo,loadableAll:So,isLoadable:xe,RecoilLoadable:ea},ta=Ie.loadableWithValue,na=Ie.loadableWithError,oa=Ie.loadableWithPromise,ra=Ie.loadableLoading,aa=Ie.loadableAll,sa=Ie.isLoadable,ia=Ie.RecoilLoadable,st=Object.freeze({__proto__:null,loadableWithValue:ta,loadableWithError:na,loadableWithPromise:oa,loadableLoading:ra,loadableAll:aa,isLoadable:sa,RecoilLoadable:ia});const tn={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function ca(e,t){var n,o;const r=(n=process.env[e])===null||n===void 0||(o=n.toLowerCase())===null||o===void 0?void 0:o.trim();if(r==null||r==="")return;if(!["true","false"].includes(r))throw M(`({}).${e} value must be 'true', 'false', or empty: ${r}`);t(r==="true")}function la(e,t){var n;const o=(n=process.env[e])===null||n===void 0?void 0:n.trim();o==null||o===""||t(o.split(/\s*,\s*|\s+/))}function ua(){var e;typeof process>"u"||((e=process)===null||e===void 0?void 0:e.env)!=null&&(ca("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",t=>{tn.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=t}),la("RECOIL_GKS_ENABLED",t=>{t.forEach(n=>{tn.RECOIL_GKS_ENABLED.add(n)})}))}ua();var qe=tn;function Et(e){return qe.RECOIL_GKS_ENABLED.has(e)}Et.setPass=e=>{qe.RECOIL_GKS_ENABLED.add(e)};Et.setFail=e=>{qe.RECOIL_GKS_ENABLED.delete(e)};Et.clear=()=>{qe.RECOIL_GKS_ENABLED.clear()};var W=Et;function da(e,t,{error:n}={}){return null}var fa=da,Tn=fa,jt,Ht,Zt;const ha=(jt=Z.createMutableSource)!==null&&jt!==void 0?jt:Z.unstable_createMutableSource,yo=(Ht=Z.useMutableSource)!==null&&Ht!==void 0?Ht:Z.unstable_useMutableSource,go=(Zt=Z.useSyncExternalStore)!==null&&Zt!==void 0?Zt:Z.unstable_useSyncExternalStore;function pa(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((e=t==null?void 0:t.current)!==null&&e!==void 0?e:n.currentDispatcher).useSyncExternalStore!=null}function _a(){return W("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:W("recoil_sync_external_store")&&go!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:W("recoil_mutable_source")&&yo!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?W("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:W("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function ma(){return!1}var it={createMutableSource:ha,useMutableSource:yo,useSyncExternalStore:go,currentRendererSupportsUseSyncExternalStore:pa,reactMode:_a,isFastRefreshEnabled:ma};class wn{constructor(t){$(this,"key",void 0),this.key=t}toJSON(){return{key:this.key}}}class Ro extends wn{}class bo extends wn{}function va(e){return e instanceof Ro||e instanceof bo}var Nt={AbstractRecoilValue:wn,RecoilState:Ro,RecoilValueReadOnly:bo,isRecoilValue:va},Sa=Nt.AbstractRecoilValue,ya=Nt.RecoilState,ga=Nt.RecoilValueReadOnly,Ra=Nt.isRecoilValue,Fe=Object.freeze({__proto__:null,AbstractRecoilValue:Sa,RecoilState:ya,RecoilValueReadOnly:ga,isRecoilValue:Ra});function ba(e,t){return function*(){let n=0;for(const o of e)yield t(o,n++)}()}var Lt=ba;class To{}const Ta=new To,Ve=new Map,An=new Map;function wa(e){return Lt(e,t=>H(An.get(t)))}function Aa(e){if(Ve.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}function Ea(e){qe.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&Aa(e.key),Ve.set(e.key,e);const t=e.set==null?new Fe.RecoilValueReadOnly(e.key):new Fe.RecoilState(e.key);return An.set(e.key,t),t}class wo extends Error{}function Na(e){const t=Ve.get(e);if(t==null)throw new wo(`Missing definition for RecoilValue: "${e}""`);return t}function La(e){return Ve.get(e)}const gt=new Map;function Ca(e){var t;if(!W("recoil_memory_managament_2020"))return;const n=Ve.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var o;Ve.delete(e),(o=Ao(e))===null||o===void 0||o(),gt.delete(e)}}function Va(e,t){W("recoil_memory_managament_2020")&&(t===void 0?gt.delete(e):gt.set(e,t))}function Ao(e){return gt.get(e)}var le={nodes:Ve,recoilValues:An,registerNode:Ea,getNode:Na,getNodeMaybe:La,deleteNodeConfigIfPossible:Ca,setConfigDeletionHandler:Va,getConfigDeletionHandler:Ao,recoilValuesForKeys:wa,NodeMissingError:wo,DefaultValue:To,DEFAULT_VALUE:Ta};function Ia(e,t){t()}var $a={enqueueExecution:Ia};function Ma(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Ua=Ma(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n={},o=5,r=Math.pow(2,o),a=r-1,s=r/2,l=r/4,u={},f=function(i){return function(){return i}},p=n.hash=function(c){var i=typeof c>"u"?"undefined":t(c);if(i==="number")return c;i!=="string"&&(c+="");for(var h=0,S=0,y=c.length;S<y;++S){var R=c.charCodeAt(S);h=(h<<5)-h+R|0}return h},m=function(i){return i-=i>>1&1431655765,i=(i&858993459)+(i>>2&858993459),i=i+(i>>4)&252645135,i+=i>>8,i+=i>>16,i&127},V=function(i,h){return h>>>i&a},C=function(i){return 1<<i},g=function(i,h){return m(i&h-1)},A=function(i,h,S,y){var R=y;if(!i){var L=y.length;R=new Array(L);for(var E=0;E<L;++E)R[E]=y[E]}return R[h]=S,R},Y=function(i,h,S){var y=S.length-1,R=0,L=0,E=S;if(i)R=L=h;else for(E=new Array(y);R<h;)E[L++]=S[R++];for(++R;R<=y;)E[L++]=S[R++];return i&&(E.length=y),E},te=function(i,h,S,y){var R=y.length;if(i){for(var L=R;L>=h;)y[L--]=y[L];return y[h]=S,y}for(var E=0,N=0,U=new Array(R+1);E<h;)U[N++]=y[E++];for(U[h]=S;E<R;)U[++N]=y[E++];return U},w=1,P=2,X=3,z=4,q={__hamt_isEmpty:!0},Q=function(i){return i===q||i&&i.__hamt_isEmpty},se=function(i,h,S,y){return{type:w,edit:i,hash:h,key:S,value:y,_modify:ke}},ye=function(i,h,S){return{type:P,edit:i,hash:h,children:S,_modify:De}},x=function(i,h,S){return{type:X,edit:i,mask:h,children:S,_modify:B}},ae=function(i,h,S){return{type:z,edit:i,size:h,children:S,_modify:O}},Ee=function(i){return i===q||i.type===w||i.type===P},oe=function(i,h,S,y,R){for(var L=[],E=y,N=0,U=0;E;++U)E&1&&(L[U]=R[N++]),E>>>=1;return L[h]=S,ae(i,N+1,L)},ue=function(i,h,S,y){for(var R=new Array(h-1),L=0,E=0,N=0,U=y.length;N<U;++N)if(N!==S){var j=y[N];j&&!Q(j)&&(R[L++]=j,E|=1<<N)}return x(i,E,R)},Me=function c(i,h,S,y,R,L){if(S===R)return ye(i,S,[L,y]);var E=V(h,S),N=V(h,R);return x(i,C(E)|C(N),E===N?[c(i,h+o,S,y,R,L)]:E<N?[y,L]:[L,y])},Ue=function(i,h,S,y,R,L,E,N){for(var U=R.length,j=0;j<U;++j){var ie=R[j];if(S(E,ie.key)){var ne=ie.value,he=L(ne);return he===ne?R:he===u?(--N.value,Y(i,j,R)):A(i,j,se(h,y,E,he),R)}}var _e=L();return _e===u?R:(++N.value,A(i,U,se(h,y,E,_e),R))},ge=function(i,h){return i===h.edit},ke=function(i,h,S,y,R,L,E){if(h(L,this.key)){var N=y(this.value);return N===this.value?this:N===u?(--E.value,q):ge(i,this)?(this.value=N,this):se(i,R,L,N)}var U=y();return U===u?this:(++E.value,Me(i,S,this.hash,this,R,se(i,R,L,U)))},De=function(i,h,S,y,R,L,E){if(R===this.hash){var N=ge(i,this),U=Ue(N,i,h,this.hash,this.children,y,L,E);return U===this.children?this:U.length>1?ye(i,this.hash,U):U[0]}var j=y();return j===u?this:(++E.value,Me(i,S,this.hash,this,R,se(i,R,L,j)))},B=function(i,h,S,y,R,L,E){var N=this.mask,U=this.children,j=V(S,R),ie=C(j),ne=g(N,ie),he=N&ie,_e=he?U[ne]:q,Pe=_e._modify(i,h,S+o,y,R,L,E);if(_e===Pe)return this;var ft=ge(i,this),He=N,Ze=void 0;if(he&&Q(Pe)){if(He&=~ie,!He)return q;if(U.length<=2&&Ee(U[ne^1]))return U[ne^1];Ze=Y(ft,ne,U)}else if(!he&&!Q(Pe)){if(U.length>=s)return oe(i,j,Pe,N,U);He|=ie,Ze=te(ft,ne,Pe,U)}else Ze=A(ft,ne,Pe,U);return ft?(this.mask=He,this.children=Ze,this):x(i,He,Ze)},O=function(i,h,S,y,R,L,E){var N=this.size,U=this.children,j=V(S,R),ie=U[j],ne=(ie||q)._modify(i,h,S+o,y,R,L,E);if(ie===ne)return this;var he=ge(i,this),_e=void 0;if(Q(ie)&&!Q(ne))++N,_e=A(he,j,ne,U);else if(!Q(ie)&&Q(ne)){if(--N,N<=l)return ue(i,N,j,U);_e=A(he,j,q,U)}else _e=A(he,j,ne,U);return he?(this.size=N,this.children=_e,this):ae(i,N,_e)};q._modify=function(c,i,h,S,y,R,L){var E=S();return E===u?q:(++L.value,se(c,y,R,E))};function d(c,i,h,S,y){this._editable=c,this._edit=i,this._config=h,this._root=S,this._size=y}d.prototype.setTree=function(c,i){return this._editable?(this._root=c,this._size=i,this):c===this._root?this:new d(this._editable,this._edit,this._config,c,i)};var _=n.tryGetHash=function(c,i,h,S){for(var y=S._root,R=0,L=S._config.keyEq;;)switch(y.type){case w:return L(h,y.key)?y.value:c;case P:{if(i===y.hash)for(var E=y.children,N=0,U=E.length;N<U;++N){var j=E[N];if(L(h,j.key))return j.value}return c}case X:{var ie=V(R,i),ne=C(ie);if(y.mask&ne){y=y.children[g(y.mask,ne)],R+=o;break}return c}case z:{if(y=y.children[V(R,i)],y){R+=o;break}return c}default:return c}};d.prototype.tryGetHash=function(c,i,h){return _(c,i,h,this)};var v=n.tryGet=function(c,i,h){return _(c,h._config.hash(i),i,h)};d.prototype.tryGet=function(c,i){return v(c,i,this)};var I=n.getHash=function(c,i,h){return _(void 0,c,i,h)};d.prototype.getHash=function(c,i){return I(c,i,this)},n.get=function(c,i){return _(void 0,i._config.hash(c),c,i)},d.prototype.get=function(c,i){return v(i,c,this)};var b=n.has=function(c,i,h){return _(u,c,i,h)!==u};d.prototype.hasHash=function(c,i){return b(c,i,this)};var D=n.has=function(c,i){return b(i._config.hash(c),c,i)};d.prototype.has=function(c){return D(c,this)};var k=function(i,h){return i===h};n.make=function(c){return new d(0,0,{keyEq:c&&c.keyEq||k,hash:c&&c.hash||p},q,0)},n.empty=n.make();var T=n.isEmpty=function(c){return c&&!!Q(c._root)};d.prototype.isEmpty=function(){return T(this)};var K=n.modifyHash=function(c,i,h,S){var y={value:S._size},R=S._root._modify(S._editable?S._edit:NaN,S._config.keyEq,0,c,i,h,y);return S.setTree(R,y.value)};d.prototype.modifyHash=function(c,i,h){return K(h,c,i,this)};var ee=n.modify=function(c,i,h){return K(c,h._config.hash(i),i,h)};d.prototype.modify=function(c,i){return ee(i,c,this)};var F=n.setHash=function(c,i,h,S){return K(f(h),c,i,S)};d.prototype.setHash=function(c,i,h){return F(c,i,h,this)};var J=n.set=function(c,i,h){return F(h._config.hash(c),c,i,h)};d.prototype.set=function(c,i){return J(c,i,this)};var pe=f(u),Ne=n.removeHash=function(c,i,h){return K(pe,c,i,h)};d.prototype.removeHash=d.prototype.deleteHash=function(c,i){return Ne(c,i,this)};var fe=n.remove=function(c,i){return Ne(i._config.hash(c),c,i)};d.prototype.remove=d.prototype.delete=function(c){return fe(c,this)};var de=n.beginMutation=function(c){return new d(c._editable+1,c._edit+1,c._config,c._root,c._size)};d.prototype.beginMutation=function(){return de(this)};var xn=n.endMutation=function(c){return c._editable=c._editable&&c._editable-1,c};d.prototype.endMutation=function(){return xn(this)};var Ur=n.mutate=function(c,i){var h=de(i);return c(h),xn(h)};d.prototype.mutate=function(c){return Ur(c,this)};var Gt=function(i){return i&&Fn(i[0],i[1],i[2],i[3],i[4])},Fn=function(i,h,S,y,R){for(;S<i;){var L=h[S++];if(L&&!Q(L))return zn(L,y,[i,h,S,y,R])}return Gt(R)},zn=function(i,h,S){switch(i.type){case w:return{value:h(i),rest:S};case P:case z:case X:var y=i.children;return Fn(y.length,y,0,h,S);default:return Gt(S)}},kr={done:!0};function qt(c){this.v=c}qt.prototype.next=function(){if(!this.v)return kr;var c=this.v;return this.v=Gt(c.rest),c},qt.prototype[Symbol.iterator]=function(){return this};var Kt=function(i,h){return new qt(zn(i._root,h))},Dr=function(i){return[i.key,i.value]},Pr=n.entries=function(c){return Kt(c,Dr)};d.prototype.entries=d.prototype[Symbol.iterator]=function(){return Pr(this)};var Br=function(i){return i.key},Or=n.keys=function(c){return Kt(c,Br)};d.prototype.keys=function(){return Or(this)};var xr=function(i){return i.value},Fr=n.values=d.prototype.values=function(c){return Kt(c,xr)};d.prototype.values=function(){return Fr(this)};var Wn=n.fold=function(c,i,h){var S=h._root;if(S.type===w)return c(i,S.value,S.key);for(var y=[S.children],R=void 0;R=y.pop();)for(var L=0,E=R.length;L<E;){var N=R[L++];N&&N.type&&(N.type===w?i=c(i,N.value,N.key):y.push(N.children))}return i};d.prototype.fold=function(c,i){return Wn(c,i,this)};var zr=n.forEach=function(c,i){return Wn(function(h,S,y){return c(S,y,i)},null,i)};d.prototype.forEach=function(c){return zr(c,this)};var Wr=n.count=function(c){return c._size};d.prototype.count=function(){return Wr(this)},Object.defineProperty(d.prototype,"size",{get:d.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class ka{constructor(t){$(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return Nn(this)}toMap(){return new Map(this._map)}}class En{constructor(t){if($(this,"_hamt",Ua.empty.beginMutation()),t instanceof En){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,o]of t.entries())this._hamt.set(n,o)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return Nn(this)}toMap(){return new Map(this._hamt)}}function Nn(e){return W("recoil_hamt_2020")?new En(e):new ka(e)}var Da={persistentMap:Nn},Pa=Da.persistentMap,Ba=Object.freeze({__proto__:null,persistentMap:Pa});function Oa(e,...t){const n=new Set;e:for(const o of e){for(const r of t)if(r.has(o))continue e;n.add(o)}return n}var nt=Oa;function xa(e,t){const n=new Map;return e.forEach((o,r)=>{n.set(r,t(o,r))}),n}var Rt=xa;function Fa(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function za(e){return{nodeDeps:Rt(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:Rt(e.nodeToNodeSubscriptions,t=>new Set(t))}}function Yt(e,t,n,o){const{nodeDeps:r,nodeToNodeSubscriptions:a}=n,s=r.get(e);if(s&&o&&s!==o.nodeDeps.get(e))return;r.set(e,t);const l=s==null?t:nt(t,s);for(const u of l)a.has(u)||a.set(u,new Set),H(a.get(u)).add(e);if(s){const u=nt(s,t);for(const f of u){if(!a.has(f))return;const p=H(a.get(f));p.delete(e),p.size===0&&a.delete(f)}}}function Wa(e,t,n,o){var r,a,s,l;const u=n.getState();o===u.currentTree.version||o===((r=u.nextTree)===null||r===void 0?void 0:r.version)||((a=u.previousTree)===null||a===void 0||a.version);const f=n.getGraph(o);if(Yt(e,t,f),o===((s=u.previousTree)===null||s===void 0?void 0:s.version)){const m=n.getGraph(u.currentTree.version);Yt(e,t,m,f)}if(o===((l=u.previousTree)===null||l===void 0?void 0:l.version)||o===u.currentTree.version){var p;const m=(p=u.nextTree)===null||p===void 0?void 0:p.version;if(m!==void 0){const V=n.getGraph(m);Yt(e,t,V,f)}}}var ct={cloneGraph:za,graph:Fa,saveDepsToStore:Wa};let Ga=0;const qa=()=>Ga++;let Ka=0;const ja=()=>Ka++;let Ha=0;const Za=()=>Ha++;var Ct={getNextTreeStateVersion:qa,getNextStoreID:ja,getNextComponentID:Za};const{persistentMap:Gn}=Ba,{graph:Ya}=ct,{getNextTreeStateVersion:Eo}=Ct;function No(){const e=Eo();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Gn(),nonvalidatedAtoms:Gn()}}function Qa(){const e=No();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,Ya()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Lo={makeEmptyTreeState:No,makeEmptyStoreState:Qa,getNextTreeStateVersion:Eo};class Co{}function Ja(){return new Co}var Vt={RetentionZone:Co,retentionZone:Ja};function Xa(e,t){const n=new Set(e);return n.add(t),n}function es(e,t){const n=new Set(e);return n.delete(t),n}function ts(e,t,n){const o=new Map(e);return o.set(t,n),o}function ns(e,t,n){const o=new Map(e);return o.set(t,n(o.get(t))),o}function os(e,t){const n=new Map(e);return n.delete(t),n}function rs(e,t){const n=new Map(e);return t.forEach(o=>n.delete(o)),n}var Vo={setByAddingToSet:Xa,setByDeletingFromSet:es,mapBySettingInMap:ts,mapByUpdatingInMap:ns,mapByDeletingFromMap:os,mapByDeletingMultipleFromMap:rs};function*as(e,t){let n=0;for(const o of e)t(o,n++)&&(yield o)}var Ln=as;function ss(e,t){return new Proxy(e,{get:(o,r)=>(!(r in o)&&r in t&&(o[r]=t[r]()),o[r]),ownKeys:o=>Object.keys(o)})}var Io=ss;const{getNode:lt,getNodeMaybe:is,recoilValuesForKeys:qn}=le,{RetentionZone:Kn}=Vt,{setByAddingToSet:cs}=Vo,ls=Object.freeze(new Set);class us extends Error{}function ds(e,t,n){if(!W("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:o}=e.getState().retention;function r(a){let s=o.get(a);s||o.set(a,s=new Set),s.add(t)}if(n instanceof Kn)r(n);else if(Array.isArray(n))for(const a of n)r(a);return()=>{if(!W("recoil_memory_managament_2020"))return;const{retention:a}=e.getState();function s(l){const u=a.nodesRetainedByZone.get(l);u==null||u.delete(t),u&&u.size===0&&a.nodesRetainedByZone.delete(l)}if(n instanceof Kn)s(n);else if(Array.isArray(n))for(const l of n)s(l)}}function Cn(e,t,n,o){const r=e.getState();if(r.nodeCleanupFunctions.has(n))return;const a=lt(n),s=ds(e,n,a.retainedBy),l=a.init(e,t,o);r.nodeCleanupFunctions.set(n,()=>{l(),s()})}function fs(e,t,n){Cn(e,e.getState().currentTree,t,n)}function hs(e,t){var n;const o=e.getState();(n=o.nodeCleanupFunctions.get(t))===null||n===void 0||n(),o.nodeCleanupFunctions.delete(t)}function ps(e,t,n){return Cn(e,t,n,"get"),lt(n).get(e,t)}function $o(e,t,n){return lt(n).peek(e,t)}function _s(e,t,n){var o;const r=is(t);return r==null||(o=r.invalidate)===null||o===void 0||o.call(r,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:cs(e.dirtyAtoms,t)}}function ms(e,t,n,o){const r=lt(n);if(r.set==null)throw new us(`Attempt to set read-only RecoilValue: ${n}`);const a=r.set;return Cn(e,t,n,"set"),a(e,t,o)}function vs(e,t,n){const o=e.getState(),r=e.getGraph(t.version),a=lt(n).nodeType;return Io({type:a},{loadable:()=>$o(e,t,n),isActive:()=>o.knownAtoms.has(n)||o.knownSelectors.has(n),isSet:()=>a==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var s;return qn((s=r.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,l;return{nodes:qn(Ln(Mo(e,t,new Set([n])),u=>u!==n)),components:Lt((s=(l=o.nodeToComponentSubscriptions.get(n))===null||l===void 0?void 0:l.values())!==null&&s!==void 0?s:[],([u])=>({name:u}))}}})}function Mo(e,t,n){const o=new Set,r=Array.from(n),a=e.getGraph(t.version);for(let l=r.pop();l;l=r.pop()){var s;o.add(l);const u=(s=a.nodeToNodeSubscriptions.get(l))!==null&&s!==void 0?s:ls;for(const f of u)o.has(f)||r.push(f)}return o}var we={getNodeLoadable:ps,peekNodeLoadable:$o,setNodeValue:ms,initializeNode:fs,cleanUpNode:hs,setUnvalidatedAtomValue_DEPRECATED:_s,peekNodeInfo:vs,getDownstreamNodes:Mo};let Uo=null;function Ss(e){Uo=e}function ys(){var e;(e=Uo)===null||e===void 0||e()}var ko={setInvalidateMemoizedSnapshot:Ss,invalidateMemoizedSnapshot:ys};const{getDownstreamNodes:gs,getNodeLoadable:Do,setNodeValue:Rs}=we,{getNextComponentID:bs}=Ct,{getNode:Ts,getNodeMaybe:Po}=le,{DefaultValue:Vn}=le,{reactMode:ws}=it,{AbstractRecoilValue:As,RecoilState:Es,RecoilValueReadOnly:Ns,isRecoilValue:Ls}=Fe,{invalidateMemoizedSnapshot:Cs}=ko;function Vs(e,{key:t},n=e.getState().currentTree){var o,r;const a=e.getState();n.version===a.currentTree.version||n.version===((o=a.nextTree)===null||o===void 0?void 0:o.version)||(n.version,(r=a.previousTree)===null||r===void 0||r.version);const s=Do(e,n,t);return s.state==="loading"&&s.contents.catch(()=>{}),s}function Is(e,t){const n=e.clone();return t.forEach((o,r)=>{o.state==="hasValue"&&o.contents instanceof Vn?n.delete(r):n.set(r,o)}),n}function $s(e,t,{key:n},o){if(typeof o=="function"){const r=Do(e,t,n);if(r.state==="loading"){const a=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw M(a)}else if(r.state==="hasError")throw r.contents;return o(r.contents)}else return o}function Ms(e,t,n){if(n.type==="set"){const{recoilValue:r,valueOrUpdater:a}=n,s=$s(e,t,r,a),l=Rs(e,t,r.key,s);for(const[u,f]of l.entries())nn(t,u,f)}else if(n.type==="setLoadable"){const{recoilValue:{key:r},loadable:a}=n;nn(t,r,a)}else if(n.type==="markModified"){const{recoilValue:{key:r}}=n;t.dirtyAtoms.add(r)}else if(n.type==="setUnvalidated"){var o;const{recoilValue:{key:r},unvalidatedValue:a}=n,s=Po(r);s==null||(o=s.invalidate)===null||o===void 0||o.call(s,t),t.atomValues.delete(r),t.nonvalidatedAtoms.set(r,a),t.dirtyAtoms.add(r)}else Tn(`Unknown action ${n.type}`)}function nn(e,t,n){n.state==="hasValue"&&n.contents instanceof Vn?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Bo(e,t){e.replaceState(n=>{const o=Oo(n);for(const r of t)Ms(e,o,r);return xo(e,o),Cs(),o})}function It(e,t){if(ot.length){const n=ot[ot.length-1];let o=n.get(e);o||n.set(e,o=[]),o.push(t)}else Bo(e,[t])}const ot=[];function Us(){const e=new Map;return ot.push(e),()=>{for(const[t,n]of e)Bo(t,n);ot.pop()}}function Oo(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function xo(e,t){const n=gs(e,t,t.dirtyAtoms);for(const a of n){var o,r;(o=Po(a))===null||o===void 0||(r=o.invalidate)===null||r===void 0||r.call(o,t)}}function Fo(e,t,n){It(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function ks(e,t,n){if(n instanceof Vn)return Fo(e,t,n);It(e,{type:"setLoadable",recoilValue:t,loadable:n})}function Ds(e,t){It(e,{type:"markModified",recoilValue:t})}function Ps(e,t,n){It(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function Bs(e,{key:t},n,o=null){const r=bs(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),H(a.nodeToComponentSubscriptions.get(t)).set(r,[o??"<not captured>",n]);const s=ws();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const l=e.getState().nextTree;l&&l.dirtyAtoms.has(t)&&n(l)}return{release:()=>{const l=e.getState(),u=l.nodeToComponentSubscriptions.get(t);u===void 0||!u.has(r)||(u.delete(r),u.size===0&&l.nodeToComponentSubscriptions.delete(t))}}}function Os(e,t){var n;const{currentTree:o}=e.getState(),r=Ts(t.key);(n=r.clearCache)===null||n===void 0||n.call(r,e,o)}var ve={RecoilValueReadOnly:Ns,AbstractRecoilValue:As,RecoilState:Es,getRecoilValueAsLoadable:Vs,setRecoilValue:Fo,setRecoilValueLoadable:ks,markRecoilValueModified:Ds,setUnvalidatedRecoilValue:Ps,subscribeToRecoilValue:Bs,isRecoilValue:Ls,applyAtomValueWrites:Is,batchStart:Us,writeLoadableToTreeState:nn,invalidateDownstreams:xo,copyTreeState:Oo,refreshRecoilValue:Os};function xs(e,t,n){const o=e.entries();let r=o.next();for(;!r.done;){const a=r.value;if(t.call(n,a[1],a[0],e))return!0;r=o.next()}return!1}var Fs=xs;const{cleanUpNode:zs}=we,{deleteNodeConfigIfPossible:Ws,getNode:zo}=le,{RetentionZone:Wo}=Vt,Gs=12e4,Go=new Set;function qo(e,t){const n=e.getState(),o=n.currentTree;if(n.nextTree)return;const r=new Set;for(const s of t)if(s instanceof Wo)for(const l of Hs(n,s))r.add(l);else r.add(s);const a=qs(e,r);for(const s of a)js(e,o,s)}function qs(e,t){const n=e.getState(),o=n.currentTree,r=e.getGraph(o.version),a=new Set,s=new Set;return l(t),a;function l(u){const f=new Set,p=Ks(e,o,u,a,s);for(const g of p){var m;if(zo(g).retainedBy==="recoilRoot"){s.add(g);continue}if(((m=n.retention.referenceCounts.get(g))!==null&&m!==void 0?m:0)>0){s.add(g);continue}if(Ko(g).some(Y=>n.retention.referenceCounts.get(Y))){s.add(g);continue}const A=r.nodeToNodeSubscriptions.get(g);if(A&&Fs(A,Y=>s.has(Y))){s.add(g);continue}a.add(g),f.add(g)}const V=new Set;for(const g of f)for(const A of(C=r.nodeDeps.get(g))!==null&&C!==void 0?C:Go){var C;a.has(A)||V.add(A)}V.size&&l(V)}}function Ks(e,t,n,o,r){const a=e.getGraph(t.version),s=[],l=new Set;for(;n.size>0;)u(H(n.values().next().value));return s;function u(f){if(o.has(f)||r.has(f)){n.delete(f);return}if(l.has(f))return;const p=a.nodeToNodeSubscriptions.get(f);if(p)for(const m of p)u(m);l.add(f),n.delete(f),s.push(f)}}function js(e,t,n){if(!W("recoil_memory_managament_2020"))return;zs(e,n);const o=e.getState();o.knownAtoms.delete(n),o.knownSelectors.delete(n),o.nodeTransactionSubscriptions.delete(n),o.retention.referenceCounts.delete(n);const r=Ko(n);for(const u of r){var a;(a=o.retention.nodesRetainedByZone.get(u))===null||a===void 0||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const s=o.graphsByVersion.get(t.version);if(s){const u=s.nodeDeps.get(n);if(u!==void 0){s.nodeDeps.delete(n);for(const f of u){var l;(l=s.nodeToNodeSubscriptions.get(f))===null||l===void 0||l.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}Ws(n)}function Hs(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:Go}function Ko(e){const t=zo(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof Wo?[t]:t}function Zs(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):qo(e,new Set([t]))}function Ys(e,t,n){var o;if(!W("recoil_memory_managament_2020"))return;const r=e.getState().retention.referenceCounts,a=((o=r.get(t))!==null&&o!==void 0?o:0)+n;a===0?jo(e,t):r.set(t,a)}function jo(e,t){if(!W("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),Zs(e,t)}function Qs(e){if(!W("recoil_memory_managament_2020"))return;const t=e.getState();qo(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function Js(e){return e===void 0?"recoilRoot":e}var $e={SUSPENSE_TIMEOUT_MS:Gs,updateRetainCount:Ys,updateRetainCountToZero:jo,releaseScheduledRetainablesNow:Qs,retainedByOptionWithDefault:Js};const{unstable_batchedUpdates:Xs}=Gr;var ei={unstable_batchedUpdates:Xs};const{unstable_batchedUpdates:ti}=ei;var ni={unstable_batchedUpdates:ti};const{batchStart:oi}=ve,{unstable_batchedUpdates:ri}=ni;let In=ri||(e=>e());const ai=e=>{In=e},si=()=>In,ii=e=>{In(()=>{let t=()=>{};try{t=oi(),e()}finally{t()}})};var $t={getBatcher:si,setBatcher:ai,batchUpdates:ii};function*ci(e){for(const t of e)for(const n of t)yield n}var Ho=ci;const Zo=typeof Window>"u"||typeof window>"u",li=e=>!Zo&&(e===window||e instanceof Window),ui=typeof navigator<"u"&&navigator.product==="ReactNative";var Mt={isSSR:Zo,isReactNative:ui,isWindow:li};function di(e,t){let n;return(...o)=>{n||(n={});const r=t(...o);return Object.hasOwnProperty.call(n,r)||(n[r]=e(...o)),n[r]}}function fi(e,t){let n,o;return(...r)=>{const a=t(...r);return n===a||(n=a,o=e(...r)),o}}function hi(e,t){let n,o;return[(...s)=>{const l=t(...s);return n===l||(n=l,o=e(...s)),o},()=>{n=null}]}var pi={memoizeWithArgsHash:di,memoizeOneWithArgsHash:fi,memoizeOneWithArgsHashAndInvalidation:hi};const{batchUpdates:on}=$t,{initializeNode:_i,peekNodeInfo:mi}=we,{graph:vi}=ct,{getNextStoreID:Si}=Ct,{DEFAULT_VALUE:yi,recoilValues:jn,recoilValuesForKeys:Hn}=le,{AbstractRecoilValue:gi,getRecoilValueAsLoadable:Ri,setRecoilValue:Zn,setUnvalidatedRecoilValue:bi}=ve,{updateRetainCount:yt}=$e,{setInvalidateMemoizedSnapshot:Ti}=ko,{getNextTreeStateVersion:wi,makeEmptyStoreState:Ai}=Lo,{isSSR:Ei}=Mt,{memoizeOneWithArgsHashAndInvalidation:Ni}=pi;class Ut{constructor(t,n){$(this,"_store",void 0),$(this,"_refCount",1),$(this,"getLoadable",o=>(this.checkRefCount_INTERNAL(),Ri(this._store,o))),$(this,"getPromise",o=>(this.checkRefCount_INTERNAL(),this.getLoadable(o).toPromise())),$(this,"getNodes_UNSTABLE",o=>{if(this.checkRefCount_INTERNAL(),(o==null?void 0:o.isModified)===!0){if((o==null?void 0:o.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return Hn(s.dirtyAtoms)}const r=this._store.getState().knownAtoms,a=this._store.getState().knownSelectors;return(o==null?void 0:o.isInitialized)==null?jn.values():o.isInitialized===!0?Hn(Ho([r,a])):Ln(jn.values(),({key:s})=>!r.has(s)&&!a.has(s))}),$(this,"getInfo_UNSTABLE",({key:o})=>(this.checkRefCount_INTERNAL(),mi(this._store,this._store.getState().currentTree,o))),$(this,"map",o=>{this.checkRefCount_INTERNAL();const r=new rn(this,on);return o(r),r}),$(this,"asyncMap",async o=>{this.checkRefCount_INTERNAL();const r=new rn(this,on);return r.retain(),await o(r),r.autoRelease_INTERNAL(),r}),this._store={storeID:Si(),parentStoreID:n,getState:()=>t,replaceState:o=>{t.currentTree=o(t.currentTree)},getGraph:o=>{const r=t.graphsByVersion;if(r.has(o))return H(r.get(o));const a=vi();return r.set(o,a),a},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw M("Cannot subscribe to Snapshots")}};for(const o of this._store.getState().knownAtoms)_i(this._store,o,"get"),yt(this._store,o,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){Ei||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!W("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){W("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Yo(e,t,n=!1){const o=e.getState(),r=n?wi():t.version;return{currentTree:{version:n?r:t.version,stateID:n?r:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(o.knownAtoms),knownSelectors:new Set(o.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(r,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Lt(o.nodeCleanupFunctions.entries(),([a])=>[a,()=>{}]))}}function Li(e){const t=new Ut(Ai());return e!=null?t.map(e):t}const[Yn,Qo]=Ni((e,t)=>{var n;const o=e.getState(),r=t==="latest"?(n=o.nextTree)!==null&&n!==void 0?n:o.currentTree:H(o.previousTree);return new Ut(Yo(e,r),e.storeID)},(e,t)=>{var n,o;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((o=e.getState().previousTree)===null||o===void 0?void 0:o.version)});Ti(Qo);function Ci(e,t="latest"){const n=Yn(e,t);return n.isRetained()?n:(Qo(),Yn(e,t))}class rn extends Ut{constructor(t,n){super(Yo(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0),t.getStoreID()),$(this,"_batch",void 0),$(this,"set",(o,r)=>{this.checkRefCount_INTERNAL();const a=this.getStore_INTERNAL();this._batch(()=>{yt(a,o.key,1),Zn(this.getStore_INTERNAL(),o,r)})}),$(this,"reset",o=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();this._batch(()=>{yt(r,o.key,1),Zn(this.getStore_INTERNAL(),o,yi)})}),$(this,"setUnvalidatedAtomValues_DEPRECATED",o=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();on(()=>{for(const[a,s]of o.entries())yt(r,a,1),bi(r,new gi(a),s)})}),this._batch=n}}var kt={Snapshot:Ut,MutableSnapshot:rn,freshSnapshot:Li,cloneSnapshot:Ci},Vi=kt.Snapshot,Ii=kt.MutableSnapshot,$i=kt.freshSnapshot,Mi=kt.cloneSnapshot,Dt=Object.freeze({__proto__:null,Snapshot:Vi,MutableSnapshot:Ii,freshSnapshot:$i,cloneSnapshot:Mi});function Ui(...e){const t=new Set;for(const n of e)for(const o of n)t.add(o);return t}var ki=Ui;const{useRef:Di}=Z;function Pi(e){const t=Di(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var Qn=Pi;const{getNextTreeStateVersion:Bi,makeEmptyStoreState:Jo}=Lo,{cleanUpNode:Oi,getDownstreamNodes:xi,initializeNode:Fi,setNodeValue:zi,setUnvalidatedAtomValue_DEPRECATED:Wi}=we,{graph:Gi}=ct,{cloneGraph:qi}=ct,{getNextStoreID:Xo}=Ct,{createMutableSource:Qt,reactMode:er}=it,{applyAtomValueWrites:Ki}=ve,{releaseScheduledRetainablesNow:tr}=$e,{freshSnapshot:ji}=Dt,{useCallback:Hi,useContext:nr,useEffect:an,useMemo:Zi,useRef:Yi,useState:Qi}=Z;function Ye(){throw M("This component must be used inside a <RecoilRoot> component.")}const or=Object.freeze({storeID:Xo(),getState:Ye,replaceState:Ye,getGraph:Ye,subscribeToTransactions:Ye,addTransactionMetadata:Ye});let sn=!1;function Jn(e){if(sn)throw M("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){W("recoil_memory_managament_2020")&&W("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&tr(e);const n=t.currentTree.version,o=Bi();t.nextTree={...t.currentTree,version:o,stateID:o,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(o,qi(H(t.graphsByVersion.get(n))))}}const rr=Z.createContext({current:or}),Pt=()=>nr(rr),ar=Z.createContext(null);function Ji(){return nr(ar)}function $n(e,t,n){const o=xi(e,n,n.dirtyAtoms);for(const r of o){const a=t.nodeToComponentSubscriptions.get(r);if(a)for(const[s,[l,u]]of a)u(n)}}function sr(e){const t=e.getState(),n=t.currentTree,o=n.dirtyAtoms;if(o.size){for(const[r,a]of t.nodeTransactionSubscriptions)if(o.has(r))for(const[s,l]of a)l(e);for(const[r,a]of t.transactionSubscriptions)a(e);(!er().early||t.suspendedComponentResolvers.size>0)&&($n(e,t,n),t.suspendedComponentResolvers.forEach(r=>r()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(r=>r(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Xi(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,sr(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):Tn("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,W("recoil_memory_managament_2020")&&n==null&&tr(e)}finally{t.commitDepth--}}function ec({setNotifyBatcherOfChange:e}){const t=Pt(),[,n]=Qi([]);return e(()=>n({})),an(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),an(()=>{$a.enqueueExecution("Batcher",()=>{Xi(t.current)})}),null}function tc(e,t){const n=Jo();return t({set:(o,r)=>{const a=n.currentTree,s=zi(e,a,o.key,r),l=new Set(s.keys()),u=a.nonvalidatedAtoms.clone();for(const f of l)u.delete(f);n.currentTree={...a,dirtyAtoms:ki(a.dirtyAtoms,l),atomValues:Ki(a.atomValues,s),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:o=>{o.forEach((r,a)=>{n.currentTree=Wi(n.currentTree,a,r)})}}),n}function nc(e){const t=ji(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(o=>o()),n.nodeCleanupFunctions.clear(),n}let Xn=0;function oc({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:o}){let r;const a=C=>{const g=r.current.graphsByVersion;if(g.has(C))return H(g.get(C));const A=Gi();return g.set(C,A),A},s=(C,g)=>{if(g==null){const{transactionSubscriptions:A}=m.current.getState(),Y=Xn++;return A.set(Y,C),{release:()=>{A.delete(Y)}}}else{const{nodeTransactionSubscriptions:A}=m.current.getState();A.has(g)||A.set(g,new Map);const Y=Xn++;return H(A.get(g)).set(Y,C),{release:()=>{const te=A.get(g);te&&(te.delete(Y),te.size===0&&A.delete(g))}}}},l=C=>{Jn(m.current);for(const g of Object.keys(C))H(m.current.getState().nextTree).transactionMetadata[g]=C[g]},u=C=>{Jn(m.current);const g=H(r.current.nextTree);let A;try{sn=!0,A=C(g)}finally{sn=!1}A!==g&&(r.current.nextTree=A,er().early&&$n(m.current,r.current,A),H(f.current)())},f=Yi(null),p=Hi(C=>{f.current=C},[f]),m=Qn(()=>n??{storeID:Xo(),getState:()=>r.current,replaceState:u,getGraph:a,subscribeToTransactions:s,addTransactionMetadata:l});n!=null&&(m.current=n),r=Qn(()=>e!=null?tc(m.current,e):t!=null?nc(t):Jo());const V=Zi(()=>Qt==null?void 0:Qt(r,()=>r.current.currentTree.version),[r]);return an(()=>{const C=m.current;for(const g of new Set(C.getState().knownAtoms))Fi(C,g,"get");return()=>{for(const g of C.getState().knownAtoms)Oi(C,g)}},[m]),Z.createElement(rr.Provider,{value:m},Z.createElement(ar.Provider,{value:V},Z.createElement(ec,{setNotifyBatcherOfChange:p}),o))}function rc(e){const{override:t,...n}=e,o=Pt();return t===!1&&o.current!==or?e.children:Z.createElement(oc,n)}function ac(){return Pt().current.storeID}var be={RecoilRoot:rc,useStoreRef:Pt,useRecoilMutableSource:Ji,useRecoilStoreID:ac,notifyComponents_FOR_TESTING:$n,sendEndOfBatchNotifications_FOR_TESTING:sr};function sc(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0}var ic=sc;const{useEffect:cc,useRef:lc}=Z;function uc(e){const t=lc();return cc(()=>{t.current=e}),t.current}var ir=uc;const{useStoreRef:dc}=be,{SUSPENSE_TIMEOUT_MS:fc}=$e,{updateRetainCount:Qe}=$e,{RetentionZone:hc}=Vt,{useEffect:pc,useRef:_c}=Z,{isSSR:eo}=Mt;function mc(e){if(W("recoil_memory_managament_2020"))return vc(e)}function vc(e){const n=(Array.isArray(e)?e:[e]).map(s=>s instanceof hc?s:s.key),o=dc();pc(()=>{if(!W("recoil_memory_managament_2020"))return;const s=o.current;if(r.current&&!eo)window.clearTimeout(r.current),r.current=null;else for(const l of n)Qe(s,l,1);return()=>{for(const l of n)Qe(s,l,-1)}},[o,...n]);const r=_c(),a=ir(n);if(!eo&&(a===void 0||!ic(a,n))){const s=o.current;for(const l of n)Qe(s,l,1);if(a)for(const l of a)Qe(s,l,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{r.current=null;for(const l of n)Qe(s,l,-1)},fc)}}var Mn=mc;function Sc(){return"<component name not available>"}var ut=Sc;const{batchUpdates:yc}=$t,{DEFAULT_VALUE:cr}=le,{currentRendererSupportsUseSyncExternalStore:gc,reactMode:Ke,useMutableSource:Rc,useSyncExternalStore:bc}=it,{useRecoilMutableSource:Tc,useStoreRef:Se}=be,{AbstractRecoilValue:cn,getRecoilValueAsLoadable:dt,setRecoilValue:bt,setUnvalidatedRecoilValue:wc,subscribeToRecoilValue:ze}=ve,{useCallback:ce,useEffect:We,useMemo:lr,useRef:rt,useState:Un}=Z,{setByAddingToSet:Ac}=Vo,{isSSR:Ec}=Mt;function kn(e,t,n){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(r=>{const a=n.current.getState().suspendedComponentResolvers;a.add(r),Ec&&G(e.contents)&&e.contents.finally(()=>{a.delete(r)})}):e.state==="hasError"?e.contents:M(`Invalid value of loadable atom "${t.key}"`)}function Nc(){const e=ut(),t=Se(),[,n]=Un([]),o=rt(new Set);o.current=new Set;const r=rt(new Set),a=rt(new Map),s=ce(u=>{const f=a.current.get(u);f&&(f.release(),a.current.delete(u))},[a]),l=ce((u,f)=>{a.current.has(f)&&n([])},[]);return We(()=>{const u=t.current;nt(o.current,r.current).forEach(f=>{if(a.current.has(f))return;const p=ze(u,new cn(f),V=>l(V,f),e);a.current.set(f,p),u.getState().nextTree?u.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l(u.getState(),f)}):l(u.getState(),f)}),nt(r.current,o.current).forEach(f=>{s(f)}),r.current=o.current}),We(()=>{const u=a.current;return nt(o.current,new Set(u.keys())).forEach(f=>{const p=ze(t.current,new cn(f),m=>l(m,f),e);u.set(f,p)}),()=>u.forEach((f,p)=>s(p))},[e,t,s,l]),lr(()=>{function u(g){return A=>{bt(t.current,g,A)}}function f(g){return()=>bt(t.current,g,cr)}function p(g){var A;o.current.has(g.key)||(o.current=Ac(o.current,g.key));const Y=t.current.getState();return dt(t.current,g,Ke().early&&(A=Y.nextTree)!==null&&A!==void 0?A:Y.currentTree)}function m(g){const A=p(g);return kn(A,g,t)}function V(g){return[m(g),u(g)]}function C(g){return[p(g),u(g)]}return{getRecoilValue:m,getRecoilValueLoadable:p,getRecoilState:V,getRecoilStateLoadable:C,getSetRecoilState:u,getResetRecoilState:f}},[o,t])}const Lc={current:0};function Cc(e){const t=Se(),n=ut(),o=ce(()=>{var l;const u=t.current,f=u.getState(),p=Ke().early&&(l=f.nextTree)!==null&&l!==void 0?l:f.currentTree;return{loadable:dt(u,e,p),key:e.key}},[t,e]),r=ce(l=>{let u;return()=>{var f,p;const m=l();return(f=u)!==null&&f!==void 0&&f.loadable.is(m.loadable)&&((p=u)===null||p===void 0?void 0:p.key)===m.key?u:(u=m,m)}},[]),a=lr(()=>r(o),[o,r]),s=ce(l=>{const u=t.current;return ze(u,e,l,n).release},[t,e,n]);return bc(s,a,a).loadable}function Vc(e){const t=Se(),n=ce(()=>{var f;const p=t.current,m=p.getState(),V=Ke().early&&(f=m.nextTree)!==null&&f!==void 0?f:m.currentTree;return dt(p,e,V)},[t,e]),o=ce(()=>n(),[n]),r=ut(),a=ce((f,p)=>{const m=t.current;return ze(m,e,()=>{if(!W("recoil_suppress_rerender_in_callback"))return p();const C=n();u.current.is(C)||p(),u.current=C},r).release},[t,e,r,n]),s=Tc();if(s==null)throw M("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const l=Rc(s,o,a),u=rt(l);return We(()=>{u.current=l}),l}function ln(e){const t=Se(),n=ut(),o=ce(()=>{var u;const f=t.current,p=f.getState(),m=Ke().early&&(u=p.nextTree)!==null&&u!==void 0?u:p.currentTree;return dt(f,e,m)},[t,e]),r=ce(()=>({loadable:o(),key:e.key}),[o,e.key]),a=ce(u=>{const f=r();return u.loadable.is(f.loadable)&&u.key===f.key?u:f},[r]);We(()=>{const u=ze(t.current,e,f=>{l(a)},n);return l(a),u.release},[n,e,t,a]);const[s,l]=Un(r);return s.key!==e.key?r().loadable:s.loadable}function Ic(e){const t=Se(),[,n]=Un([]),o=ut(),r=ce(()=>{var l;const u=t.current,f=u.getState(),p=Ke().early&&(l=f.nextTree)!==null&&l!==void 0?l:f.currentTree;return dt(u,e,p)},[t,e]),a=r(),s=rt(a);return We(()=>{s.current=a}),We(()=>{const l=t.current,u=l.getState(),f=ze(l,e,m=>{var V;if(!W("recoil_suppress_rerender_in_callback"))return n([]);const C=r();(V=s.current)!==null&&V!==void 0&&V.is(C)||n(C),s.current=C},o);if(u.nextTree)l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var p;if(!W("recoil_suppress_rerender_in_callback"))return n([]);const m=r();(p=s.current)!==null&&p!==void 0&&p.is(m)||n(m),s.current=m}return f.release},[o,r,e,t]),a}function Dn(e){return W("recoil_memory_managament_2020")&&Mn(e),{TRANSITION_SUPPORT:ln,SYNC_EXTERNAL_STORE:gc()?Cc:ln,MUTABLE_SOURCE:Vc,LEGACY:Ic}[Ke().mode](e)}function ur(e){const t=Se(),n=Dn(e);return kn(n,e,t)}function Bt(e){const t=Se();return ce(n=>{bt(t.current,e,n)},[t,e])}function $c(e){const t=Se();return ce(()=>{bt(t.current,e,cr)},[t,e])}function Mc(e){return[ur(e),Bt(e)]}function Uc(e){return[Dn(e),Bt(e)]}function kc(){const e=Se();return(t,n={})=>{yc(()=>{e.current.addTransactionMetadata(n),t.forEach((o,r)=>wc(e.current,new cn(r),o))})}}function dr(e){return W("recoil_memory_managament_2020")&&Mn(e),ln(e)}function fr(e){const t=Se(),n=dr(e);return kn(n,e,t)}function Dc(e){return[fr(e),Bt(e)]}var Pc={recoilComponentGetRecoilValueCount_FOR_TESTING:Lc,useRecoilInterface:Nc,useRecoilState:Mc,useRecoilStateLoadable:Uc,useRecoilValue:ur,useRecoilValueLoadable:Dn,useResetRecoilState:$c,useSetRecoilState:Bt,useSetUnvalidatedAtomValues:kc,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:dr,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:fr,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Dc};function Bc(e,t){const n=new Map;for(const[o,r]of e)t(r,o)&&n.set(o,r);return n}var Oc=Bc;function xc(e,t){const n=new Set;for(const o of e)t(o)&&n.add(o);return n}var Fc=xc;function zc(...e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n].keys();let r;for(;!(r=o.next()).done;)t.set(r.value,e[n].get(r.value))}return t}var Wc=zc;const{batchUpdates:Gc}=$t,{DEFAULT_VALUE:qc,getNode:hr,nodes:Kc}=le,{useStoreRef:Pn}=be,{AbstractRecoilValue:jc,setRecoilValueLoadable:Hc}=ve,{SUSPENSE_TIMEOUT_MS:Zc}=$e,{cloneSnapshot:Tt}=Dt,{useCallback:Ot,useEffect:pr,useRef:to,useState:Yc}=Z,{isSSR:no}=Mt;function xt(e){const t=Pn();pr(()=>t.current.subscribeToTransactions(e).release,[e,t])}function oo(e){const t=e.atomValues.toMap(),n=Rt(Oc(t,(o,r)=>{const s=hr(r).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&o.state==="hasValue"}),o=>o.contents);return Wc(e.nonvalidatedAtoms.toMap(),n)}function Qc(e){xt(Ot(t=>{let n=t.getState().previousTree;const o=t.getState().currentTree;n||(n=t.getState().currentTree);const r=oo(o),a=oo(n),s=Rt(Kc,u=>{var f,p,m,V;return{persistence_UNSTABLE:{type:(f=(p=u.persistence_UNSTABLE)===null||p===void 0?void 0:p.type)!==null&&f!==void 0?f:"none",backButton:(m=(V=u.persistence_UNSTABLE)===null||V===void 0?void 0:V.backButton)!==null&&m!==void 0?m:!1}}}),l=Fc(o.dirtyAtoms,u=>r.has(u)||a.has(u));e({atomValues:r,previousAtomValues:a,atomInfo:s,modifiedAtoms:l,transactionMetadata:{...o.transactionMetadata}})},[e]))}function Jc(e){xt(Ot(t=>{const n=Tt(t,"latest"),o=Tt(t,"previous");e({snapshot:n,previousSnapshot:o})},[e]))}function Xc(){const e=Pn(),[t,n]=Yc(()=>Tt(e.current)),o=ir(t),r=to(),a=to();if(xt(Ot(l=>n(Tt(l)),[])),pr(()=>{const l=t.retain();if(r.current&&!no){var u;window.clearTimeout(r.current),r.current=null,(u=a.current)===null||u===void 0||u.call(a),a.current=null}return()=>{window.setTimeout(l,10)}},[t]),o!==t&&!no){if(r.current){var s;window.clearTimeout(r.current),r.current=null,(s=a.current)===null||s===void 0||s.call(a),a.current=null}a.current=t.retain(),r.current=window.setTimeout(()=>{var l;r.current=null,(l=a.current)===null||l===void 0||l.call(a),a.current=null},Zc)}return t}function _r(e,t){var n;const o=e.getState(),r=(n=o.nextTree)!==null&&n!==void 0?n:o.currentTree,a=t.getStore_INTERNAL().getState().currentTree;Gc(()=>{const s=new Set;for(const f of[r.atomValues.keys(),a.atomValues.keys()])for(const p of f){var l,u;((l=r.atomValues.get(p))===null||l===void 0?void 0:l.contents)!==((u=a.atomValues.get(p))===null||u===void 0?void 0:u.contents)&&hr(p).shouldRestoreFromSnapshots&&s.add(p)}s.forEach(f=>{Hc(e,new jc(f),a.atomValues.has(f)?H(a.atomValues.get(f)):qc)}),e.replaceState(f=>({...f,stateID:t.getID()}))})}function el(){const e=Pn();return Ot(t=>_r(e.current,t),[e])}var mr={useRecoilSnapshot:Xc,gotoSnapshot:_r,useGotoRecoilSnapshot:el,useRecoilTransactionObserver:Jc,useTransactionObservation_DEPRECATED:Qc,useTransactionSubscription_DEPRECATED:xt};const{peekNodeInfo:tl}=we,{useStoreRef:nl}=be;function ol(){const e=nl();return({key:t})=>tl(e.current,e.current.getState().currentTree,t)}var rl=ol;const{reactMode:al}=it,{RecoilRoot:sl,useStoreRef:il}=be,{useMemo:cl}=Z;function ll(){al().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=il().current;return cl(()=>{function t({children:n}){return Z.createElement(sl,{store_INTERNAL:e},n)}return t},[e])}var ul=ll;const{loadableWithValue:dl}=st,{initializeNode:fl}=we,{DEFAULT_VALUE:hl,getNode:pl}=le,{copyTreeState:_l,getRecoilValueAsLoadable:ml,invalidateDownstreams:vl,writeLoadableToTreeState:Sl}=ve;function ro(e){return pl(e.key).nodeType==="atom"}class yl{constructor(t,n){$(this,"_store",void 0),$(this,"_treeState",void 0),$(this,"_changes",void 0),$(this,"get",o=>{if(this._changes.has(o.key))return this._changes.get(o.key);if(!ro(o))throw M("Reading selectors within atomicUpdate is not supported");const r=ml(this._store,o,this._treeState);if(r.state==="hasValue")return r.contents;throw r.state==="hasError"?r.contents:M(`Expected Recoil atom ${o.key} to have a value, but it is in a loading state.`)}),$(this,"set",(o,r)=>{if(!ro(o))throw M("Setting selectors within atomicUpdate is not supported");if(typeof r=="function"){const a=this.get(o);this._changes.set(o.key,r(a))}else fl(this._store,o.key,"set"),this._changes.set(o.key,r)}),$(this,"reset",o=>{this.set(o,hl)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=_l(this._treeState);for(const[n,o]of this._changes)Sl(t,n,dl(o));return vl(this._store,t),t}}function gl(e){return t=>{e.replaceState(n=>{const o=new yl(e,n);return t(o),o.newTreeState_INTERNAL()})}}var Rl={atomicUpdater:gl},bl=Rl.atomicUpdater,vr=Object.freeze({__proto__:null,atomicUpdater:bl});function Tl(e,t){if(!e)throw new Error(t)}var wl=Tl,tt=wl;const{atomicUpdater:Al}=vr,{batchUpdates:El}=$t,{DEFAULT_VALUE:Nl}=le,{useStoreRef:Ll}=be,{refreshRecoilValue:Cl,setRecoilValue:ao}=ve,{cloneSnapshot:Vl}=Dt,{gotoSnapshot:Il}=mr,{useCallback:$l}=Z;class Sr{}const Ml=new Sr;function yr(e,t,n,o){let r=Ml,a;if(El(()=>{const l="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw M(l);const u=Io({...o??{},set:(p,m)=>ao(e,p,m),reset:p=>ao(e,p,Nl),refresh:p=>Cl(e,p),gotoSnapshot:p=>Il(e,p),transact_UNSTABLE:p=>Al(e)(p)},{snapshot:()=>{const p=Vl(e);return a=p.retain(),p}}),f=t(u);if(typeof f!="function")throw M(l);r=f(...n)}),r instanceof Sr&&tt(!1),G(r))r=r.finally(()=>{var l;(l=a)===null||l===void 0||l()});else{var s;(s=a)===null||s===void 0||s()}return r}function Ul(e,t){const n=Ll();return $l((...o)=>yr(n.current,e,o),t!=null?[...t,n]:void 0)}var gr={recoilCallback:yr,useRecoilCallback:Ul};const{useStoreRef:kl}=be,{refreshRecoilValue:Dl}=ve,{useCallback:Pl}=Z;function Bl(e){const t=kl();return Pl(()=>{const n=t.current;Dl(n,e)},[e,t])}var Ol=Bl;const{atomicUpdater:xl}=vr,{useStoreRef:Fl}=be,{useMemo:zl}=Z;function Wl(e,t){const n=Fl();return zl(()=>(...o)=>{xl(n.current)(a=>{e(a)(...o)})},t!=null?[...t,n]:void 0)}var Gl=Wl;class ql{constructor(t){$(this,"value",void 0),this.value=t}}var Kl={WrappedValue:ql},jl=Kl.WrappedValue,Rr=Object.freeze({__proto__:null,WrappedValue:jl});const{isFastRefreshEnabled:Hl}=it;class so extends Error{}class Zl{constructor(t){var n,o,r;$(this,"_name",void 0),$(this,"_numLeafs",void 0),$(this,"_root",void 0),$(this,"_onHit",void 0),$(this,"_onSet",void 0),$(this,"_mapNodeValue",void 0),this._name=t==null?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(o=t==null?void 0:t.onSet)!==null&&o!==void 0?o:()=>{},this._mapNodeValue=(r=t==null?void 0:t.mapNodeValue)!==null&&r!==void 0?r:a=>a}size(){return this._numLeafs}root(){return this._root}get(t,n){var o;return(o=this.getLeafNode(t,n))===null||o===void 0?void 0:o.value}getLeafNode(t,n){if(this._root==null)return;let o=this._root;for(;o;){if(n==null||n.onNodeVisit(o),o.type==="leaf")return this._onHit(o),o;const r=this._mapNodeValue(t(o.nodeKey));o=o.branches.get(r)}}set(t,n,o){const r=()=>{var a,s,l,u;let f,p;for(const[Y,te]of t){var m,V,C;const w=this._root;if((w==null?void 0:w.type)==="leaf")throw this.invalidCacheError();const P=f;if(f=P?P.branches.get(p):w,f=(m=f)!==null&&m!==void 0?m:{type:"branch",nodeKey:Y,parent:P,branches:new Map,branchKey:p},f.type!=="branch"||f.nodeKey!==Y)throw this.invalidCacheError();P==null||P.branches.set(p,f),o==null||(V=o.onNodeVisit)===null||V===void 0||V.call(o,f),p=this._mapNodeValue(te),this._root=(C=this._root)!==null&&C!==void 0?C:f}const g=f?(a=f)===null||a===void 0?void 0:a.branches.get(p):this._root;if(g!=null&&(g.type!=="leaf"||g.branchKey!==p))throw this.invalidCacheError();const A={type:"leaf",value:n,parent:f,branchKey:p};(s=f)===null||s===void 0||s.branches.set(p,A),this._root=(l=this._root)!==null&&l!==void 0?l:A,this._numLeafs++,this._onSet(A),o==null||(u=o.onNodeVisit)===null||u===void 0||u.call(o,A)};try{r()}catch(a){if(a instanceof so)this.clear(),r();else throw a}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let o=t.parent,r=t.branchKey;for(;o;){var a;if(o.branches.delete(r),o===n)return o.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(o.branches.size>0)break;r=(a=o)===null||a===void 0?void 0:a.branchKey,o=o.parent}for(;o!==n;o=o.parent)if(o==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const t=Hl()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Tn(t+(this._name!=null?` - ${this._name}`:"")),new so}}var Yl={TreeCache:Zl},Ql=Yl.TreeCache,br=Object.freeze({__proto__:null,TreeCache:Ql});class Jl{constructor(t){var n;$(this,"_maxSize",void 0),$(this,"_size",void 0),$(this,"_head",void 0),$(this,"_tail",void 0),$(this,"_map",void 0),$(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:o=>o}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),o=this._map.get(n);if(o)return this.set(t,o.value),o.value}set(t,n){const o=this._keyMapper(t);this._map.get(o)&&this.delete(t);const a=this.head(),s={key:t,right:a,left:null,value:n};a?a.left=s:this._tail=s,this._map.set(o,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const o=H(this._map.get(n)),r=o.right,a=o.left;r&&(r.left=o.left),a&&(a.right=o.right),o===this.head()&&(this._head=r),o===this.tail()&&(this._tail=a),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var Xl={LRUCache:Jl},eu=Xl.LRUCache,Tr=Object.freeze({__proto__:null,LRUCache:eu});const{LRUCache:tu}=Tr,{TreeCache:nu}=br;function ou({name:e,maxSize:t,mapNodeValue:n=o=>o}){const o=new tu({maxSize:t}),r=new nu({name:e,mapNodeValue:n,onHit:a=>{o.set(a,!0)},onSet:a=>{const s=o.tail();o.set(a,!0),s&&r.size()>t&&r.delete(s.key)}});return r}var io=ou;function me(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw M("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var o;return(o=JSON.stringify(e))!==null&&o!==void 0?o:""}if(G(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((r,a)=>me(r,t,a.toString()))}]`;if(typeof e.toJSON=="function")return me(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[a,s]of e)r[typeof a=="string"?a:me(a,t)]=s;return me(r,t,n)}return e instanceof Set?me(Array.from(e).sort((r,a)=>me(r,t).localeCompare(me(a,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?me(Array.from(e),t,n):`{${Object.keys(e).filter(r=>e[r]!==void 0).sort().map(r=>`${me(r,t)}:${me(e[r],t,r)}`).join(",")}}`}function ru(e,t={allowFunctions:!1}){return me(e,t)}var Ft=ru;const{TreeCache:au}=br,ht={equality:"reference",eviction:"keep-all",maxSize:1/0};function su({equality:e=ht.equality,eviction:t=ht.eviction,maxSize:n=ht.maxSize}=ht,o){const r=iu(e);return cu(t,n,r,o)}function iu(e){switch(e){case"reference":return t=>t;case"value":return t=>Ft(t)}throw M(`Unrecognized equality policy ${e}`)}function cu(e,t,n,o){switch(e){case"keep-all":return new au({name:o,mapNodeValue:n});case"lru":return io({name:o,maxSize:H(t),mapNodeValue:n});case"most-recent":return io({name:o,maxSize:1,mapNodeValue:n})}throw M(`Unrecognized eviction policy ${e}`)}var lu=su;function uu(e){return()=>null}var du={startPerfBlock:uu};const{isLoadable:fu,loadableWithError:pt,loadableWithPromise:hu,loadableWithValue:Jt}=st,{WrappedValue:wr}=Rr,{getNodeLoadable:_t,peekNodeLoadable:pu,setNodeValue:_u}=we,{saveDepsToStore:mu}=ct,{DEFAULT_VALUE:vu,getConfigDeletionHandler:Su,getNode:yu,registerNode:co}=le,{isRecoilValue:gu}=Fe,{markRecoilValueModified:lo}=ve,{retainedByOptionWithDefault:Ru}=$e,{recoilCallback:bu}=gr,{startPerfBlock:Tu}=du;class Ar{}const Je=new Ar,Xe=[],mt=new Map,wu=(()=>{let e=0;return()=>e++})();function Er(e){let t=null;const{key:n,get:o,cachePolicy_UNSTABLE:r}=e,a=e.set!=null?e.set:void 0,s=new Set,l=lu(r??{equality:"reference",eviction:"keep-all"},n),u=Ru(e.retainedBy_UNSTABLE),f=new Map;let p=0;function m(){return!W("recoil_memory_managament_2020")||p>0}function V(d){return d.getState().knownSelectors.add(n),p++,()=>{p--}}function C(){return Su(n)!==void 0&&!m()}function g(d,_,v,I,b){Ue(_,I,b),A(d,v)}function A(d,_){ue(d,_)&&oe(d),te(_,!0)}function Y(d,_){ue(d,_)&&(H(x(d)).stateVersions.clear(),te(_,!1))}function te(d,_){const v=mt.get(d);if(v!=null){for(const I of v)lo(I,H(t));_&&mt.delete(d)}}function w(d,_){let v=mt.get(_);v==null&&mt.set(_,v=new Set),v.add(d)}function P(d,_,v,I,b,D){return _.then(k=>{if(!m())throw oe(d),Je;const T=Jt(k);return g(d,v,b,T,I),k}).catch(k=>{if(!m())throw oe(d),Je;if(G(k))return X(d,k,v,I,b,D);const T=pt(k);throw g(d,v,b,T,I),k})}function X(d,_,v,I,b,D){return _.then(k=>{if(!m())throw oe(d),Je;D.loadingDepKey!=null&&D.loadingDepPromise===_?v.atomValues.set(D.loadingDepKey,Jt(k)):d.getState().knownSelectors.forEach(F=>{v.atomValues.delete(F)});const T=Q(d,v);if(T&&T.state!=="loading"){if((ue(d,b)||x(d)==null)&&A(d,b),T.state==="hasValue")return T.contents;throw T.contents}if(!ue(d,b)){const F=ye(d,v);if(F!=null)return F.loadingLoadable.contents}const[K,ee]=q(d,v,b);if(K.state!=="loading"&&g(d,v,b,K,ee),K.state==="hasError")throw K.contents;return K.contents}).catch(k=>{if(k instanceof Ar)throw Je;if(!m())throw oe(d),Je;const T=pt(k);throw g(d,v,b,T,I),k})}function z(d,_,v,I){var b,D,k,T;if(ue(d,I)||_.version===((b=d.getState())===null||b===void 0||(D=b.currentTree)===null||D===void 0?void 0:D.version)||_.version===((k=d.getState())===null||k===void 0||(T=k.nextTree)===null||T===void 0?void 0:T.version)){var K,ee,F;mu(n,v,d,(K=(ee=d.getState())===null||ee===void 0||(F=ee.nextTree)===null||F===void 0?void 0:F.version)!==null&&K!==void 0?K:d.getState().currentTree.version)}for(const J of v)s.add(J)}function q(d,_,v){const I=Tu(n);let b=!0,D=!0;const k=()=>{I(),D=!1};let T,K=!1,ee;const F={loadingDepKey:null,loadingDepPromise:null},J=new Map;function pe({key:fe}){const de=_t(d,_,fe);switch(J.set(fe,de),b||(z(d,_,new Set(J.keys()),v),Y(d,v)),de.state){case"hasValue":return de.contents;case"hasError":throw de.contents;case"loading":throw F.loadingDepKey=fe,F.loadingDepPromise=de.contents,de.contents}throw M("Invalid Loadable state")}const Ne=fe=>(...de)=>{if(D)throw M("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&tt(!1),bu(d,fe,de,{node:t})};try{T=o({get:pe,getCallback:Ne}),T=gu(T)?pe(T):T,fu(T)&&(T.state==="hasError"&&(K=!0),T=T.contents),G(T)?T=P(d,T,_,J,v,F).finally(k):k(),T=T instanceof wr?T.value:T}catch(fe){T=fe,G(T)?T=X(d,T,_,J,v,F).finally(k):(K=!0,k())}return K?ee=pt(T):G(T)?ee=hu(T):ee=Jt(T),b=!1,Ee(d,v,J),z(d,_,new Set(J.keys()),v),[ee,J]}function Q(d,_){let v=_.atomValues.get(n);if(v!=null)return v;const I=new Set;try{v=l.get(D=>(typeof D!="string"&&tt(!1),_t(d,_,D).contents),{onNodeVisit:D=>{D.type==="branch"&&D.nodeKey!==n&&I.add(D.nodeKey)}})}catch(D){throw M(`Problem with cache lookup for selector "${n}": ${D.message}`)}if(v){var b;_.atomValues.set(n,v),z(d,_,I,(b=x(d))===null||b===void 0?void 0:b.executionID)}return v}function se(d,_){const v=Q(d,_);if(v!=null)return oe(d),v;const I=ye(d,_);if(I!=null){var b;return((b=I.loadingLoadable)===null||b===void 0?void 0:b.state)==="loading"&&w(d,I.executionID),I.loadingLoadable}const D=wu(),[k,T]=q(d,_,D);return k.state==="loading"?(ae(d,D,k,T,_),w(d,D)):(oe(d),Ue(_,k,T)),k}function ye(d,_){const v=Ho([f.has(d)?[H(f.get(d))]:[],Lt(Ln(f,([b])=>b!==d),([,b])=>b)]);function I(b){for(const[D,k]of b)if(!_t(d,_,D).is(k))return!0;return!1}for(const b of v){if(b.stateVersions.get(_.version)||!I(b.depValuesDiscoveredSoFarDuringAsyncWork))return b.stateVersions.set(_.version,!0),b;b.stateVersions.set(_.version,!1)}}function x(d){return f.get(d)}function ae(d,_,v,I,b){f.set(d,{depValuesDiscoveredSoFarDuringAsyncWork:I,executionID:_,loadingLoadable:v,stateVersions:new Map([[b.version,!0]])})}function Ee(d,_,v){if(ue(d,_)){const I=x(d);I!=null&&(I.depValuesDiscoveredSoFarDuringAsyncWork=v)}}function oe(d){f.delete(d)}function ue(d,_){var v;return _===((v=x(d))===null||v===void 0?void 0:v.executionID)}function Me(d){return Array.from(d.entries()).map(([_,v])=>[_,v.contents])}function Ue(d,_,v){d.atomValues.set(n,_);try{l.set(Me(v),_)}catch(I){throw M(`Problem with setting cache for selector "${n}": ${I.message}`)}}function ge(d){if(Xe.includes(n)){const _=`Recoil selector has circular dependencies: ${Xe.slice(Xe.indexOf(n)).join(" → ")}`;return pt(M(_))}Xe.push(n);try{return d()}finally{Xe.pop()}}function ke(d,_){const v=_.atomValues.get(n);return v??l.get(I=>{var b;return typeof I!="string"&&tt(!1),(b=pu(d,_,I))===null||b===void 0?void 0:b.contents})}function De(d,_){return ge(()=>se(d,_))}function B(d){d.atomValues.delete(n)}function O(d,_){t==null&&tt(!1);for(const I of s){var v;const b=yu(I);(v=b.clearCache)===null||v===void 0||v.call(b,d,_)}s.clear(),B(_),l.clear(),lo(d,t)}return a!=null?t=co({key:n,nodeType:"selector",peek:ke,get:De,set:(_,v,I)=>{let b=!1;const D=new Map;function k({key:F}){if(b)throw M("Recoil: Async selector sets are not currently supported.");const J=_t(_,v,F);if(J.state==="hasValue")return J.contents;if(J.state==="loading"){const pe=`Getting value of asynchronous atom or selector "${F}" in a pending state while setting selector "${n}" is not yet supported.`;throw M(pe)}else throw J.contents}function T(F,J){if(b)throw M("Recoil: Async selector sets are not currently supported.");const pe=typeof J=="function"?J(k(F)):J;_u(_,v,F.key,pe).forEach((fe,de)=>D.set(de,fe))}function K(F){T(F,vu)}const ee=a({set:T,get:k,reset:K},I);if(ee!==void 0)throw G(ee)?M("Recoil: Async selector sets are not currently supported."):M("Recoil: selector set should be a void function.");return b=!0,D},init:V,invalidate:B,clearCache:O,shouldDeleteConfigOnRelease:C,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u}):t=co({key:n,nodeType:"selector",peek:ke,get:De,init:V,invalidate:B,clearCache:O,shouldDeleteConfigOnRelease:C,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}Er.value=e=>new wr(e);var Ge=Er;const{isLoadable:Au,loadableWithError:Xt,loadableWithPromise:en,loadableWithValue:Be}=st,{WrappedValue:Nr}=Rr,{peekNodeInfo:Eu}=we,{DEFAULT_VALUE:Le,DefaultValue:Te,getConfigDeletionHandler:Lr,registerNode:Nu,setConfigDeletionHandler:Lu}=le,{isRecoilValue:Cu}=Fe,{getRecoilValueAsLoadable:Vu,markRecoilValueModified:Iu,setRecoilValue:uo,setRecoilValueLoadable:$u}=ve,{retainedByOptionWithDefault:Mu}=$e,et=e=>e instanceof Nr?e.value:e;function Uu(e){const{key:t,persistence_UNSTABLE:n}=e,o=Mu(e.retainedBy_UNSTABLE);let r=0;function a(w){return en(w.then(P=>(s=Be(P),P)).catch(P=>{throw s=Xt(P),P}))}let s=G(e.default)?a(e.default):Au(e.default)?e.default.state==="loading"?a(e.default.contents):e.default:Be(et(e.default));s.contents;let l;const u=new Map;function f(w){return w}function p(w,P){const X=P.then(z=>{var q,Q;return((Q=((q=w.getState().nextTree)!==null&&q!==void 0?q:w.getState().currentTree).atomValues.get(t))===null||Q===void 0?void 0:Q.contents)===X&&uo(w,te,z),z}).catch(z=>{var q,Q;throw((Q=((q=w.getState().nextTree)!==null&&q!==void 0?q:w.getState().currentTree).atomValues.get(t))===null||Q===void 0?void 0:Q.contents)===X&&$u(w,te,Xt(z)),z});return X}function m(w,P,X){var z;r++;const q=()=>{var x;r--,(x=u.get(w))===null||x===void 0||x.forEach(ae=>ae()),u.delete(w)};if(w.getState().knownAtoms.add(t),s.state==="loading"){const x=()=>{var ae;((ae=w.getState().nextTree)!==null&&ae!==void 0?ae:w.getState().currentTree).atomValues.has(t)||Iu(w,te)};s.contents.finally(x)}const Q=(z=e.effects)!==null&&z!==void 0?z:e.effects_UNSTABLE;if(Q!=null){let ue=function(B){if(ae&&B.key===t){const O=x;return O instanceof Te?V(w,P):G(O)?en(O.then(d=>d instanceof Te?s.toPromise():d)):Be(O)}return Vu(w,B)},Me=function(B){return ue(B).toPromise()},Ue=function(B){var O;const d=Eu(w,(O=w.getState().nextTree)!==null&&O!==void 0?O:w.getState().currentTree,B.key);return ae&&B.key===t&&!(x instanceof Te)?{...d,isSet:!0,loadable:ue(B)}:d},x=Le,ae=!0,Ee=!1,oe=null;const ge=B=>O=>{if(ae){const d=ue(te),_=d.state==="hasValue"?d.contents:Le;x=typeof O=="function"?O(_):O,G(x)&&(x=x.then(v=>(oe={effect:B,value:v},v)))}else{if(G(O))throw M("Setting atoms to async values is not implemented.");typeof O!="function"&&(oe={effect:B,value:et(O)}),uo(w,te,typeof O=="function"?d=>{const _=et(O(d));return oe={effect:B,value:_},_}:et(O))}},ke=B=>()=>ge(B)(Le),De=B=>O=>{var d;const{release:_}=w.subscribeToTransactions(v=>{var I;let{currentTree:b,previousTree:D}=v.getState();D||(D=b);const k=(I=b.atomValues.get(t))!==null&&I!==void 0?I:s;if(k.state==="hasValue"){var T,K,ee,F;const J=k.contents,pe=(T=D.atomValues.get(t))!==null&&T!==void 0?T:s,Ne=pe.state==="hasValue"?pe.contents:Le;((K=oe)===null||K===void 0?void 0:K.effect)!==B||((ee=oe)===null||ee===void 0?void 0:ee.value)!==J?O(J,Ne,!b.atomValues.has(t)):((F=oe)===null||F===void 0?void 0:F.effect)===B&&(oe=null)}},t);u.set(w,[...(d=u.get(w))!==null&&d!==void 0?d:[],_])};for(const B of Q)try{const O=B({node:te,storeID:w.storeID,parentStoreID_UNSTABLE:w.parentStoreID,trigger:X,setSelf:ge(B),resetSelf:ke(B),onSet:De(B),getPromise:Me,getLoadable:ue,getInfo_UNSTABLE:Ue});if(O!=null){var se;u.set(w,[...(se=u.get(w))!==null&&se!==void 0?se:[],O])}}catch(O){x=O,Ee=!0}if(ae=!1,!(x instanceof Te)){var ye;const B=Ee?Xt(x):G(x)?en(p(w,x)):Be(et(x));B.contents,P.atomValues.set(t,B),(ye=w.getState().nextTree)===null||ye===void 0||ye.atomValues.set(t,B)}}return q}function V(w,P){var X,z;return(X=(z=P.atomValues.get(t))!==null&&z!==void 0?z:l)!==null&&X!==void 0?X:s}function C(w,P){if(P.atomValues.has(t))return H(P.atomValues.get(t));if(P.nonvalidatedAtoms.has(t)){if(l!=null)return l;if(n==null)return s;const X=P.nonvalidatedAtoms.get(t),z=n.validator(X,Le);return l=z instanceof Te?s:Be(z),l}else return s}function g(){l=void 0}function A(w,P,X){if(P.atomValues.has(t)){const z=H(P.atomValues.get(t));if(z.state==="hasValue"&&X===z.contents)return new Map}else if(!P.nonvalidatedAtoms.has(t)&&X instanceof Te)return new Map;return l=void 0,new Map().set(t,Be(X))}function Y(){return Lr(t)!==void 0&&r<=0}const te=Nu({key:t,nodeType:"atom",peek:V,get:C,set:A,init:m,invalidate:g,shouldDeleteConfigOnRelease:Y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return te}function Bn(e){const{...t}=e,n="default"in e?e.default:new Promise(()=>{});return Cu(n)?ku({...t,default:n}):Uu({...t,default:n})}function ku(e){const t=Bn({...e,default:Le,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:{...e.persistence_UNSTABLE,validator:o=>o instanceof Te?o:H(e.persistence_UNSTABLE).validator(o,Le)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Ge({key:`${e.key}__withFallback`,get:({get:o})=>{const r=o(t);return r instanceof Te?e.default:r},set:({set:o},r)=>o(t,r),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Lu(n.key,Lr(e.key)),n}Bn.value=e=>new Nr(e);var Cr=Bn;class Du{constructor(t){var n;$(this,"_map",void 0),$(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:o=>o}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var Pu={MapCache:Du},Bu=Pu.MapCache,Ou=Object.freeze({__proto__:null,MapCache:Bu});const{LRUCache:fo}=Tr,{MapCache:xu}=Ou,vt={equality:"reference",eviction:"none",maxSize:1/0};function Fu({equality:e=vt.equality,eviction:t=vt.eviction,maxSize:n=vt.maxSize}=vt){const o=zu(e);return Wu(t,n,o)}function zu(e){switch(e){case"reference":return t=>t;case"value":return t=>Ft(t)}throw M(`Unrecognized equality policy ${e}`)}function Wu(e,t,n){switch(e){case"keep-all":return new xu({mapKey:n});case"lru":return new fo({mapKey:n,maxSize:H(t)});case"most-recent":return new fo({mapKey:n,maxSize:1})}throw M(`Unrecognized eviction policy ${e}`)}var Vr=Fu;const{setConfigDeletionHandler:Gu}=le;function qu(e){var t,n;const o=Vr({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return r=>{var a,s;const l=o.get(r);if(l!=null)return l;const{cachePolicyForParams_UNSTABLE:u,...f}=e,p="default"in e?e.default:new Promise(()=>{}),m=Cr({...f,key:`${e.key}__${(a=Ft(r))!==null&&a!==void 0?a:"void"}`,default:typeof p=="function"?p(r):p,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(r):e.retainedBy_UNSTABLE,effects:typeof e.effects=="function"?e.effects(r):typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(r):(s=e.effects)!==null&&s!==void 0?s:e.effects_UNSTABLE});return o.set(r,m),Gu(m.key,()=>{o.delete(r)}),m}}var Ku=qu;const{setConfigDeletionHandler:ju}=le;let Hu=0;function Zu(e){var t,n;const o=Vr({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return r=>{var a;let s;try{s=o.get(r)}catch(V){throw M(`Problem with cache lookup for selector ${e.key}: ${V.message}`)}if(s!=null)return s;const l=`${e.key}__selectorFamily/${(a=Ft(r,{allowFunctions:!0}))!==null&&a!==void 0?a:"void"}/${Hu++}`,u=V=>e.get(r)(V),f=e.cachePolicy_UNSTABLE,p=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(r):e.retainedBy_UNSTABLE;let m;if(e.set!=null){const V=e.set;m=Ge({key:l,get:u,set:(g,A)=>V(r)(g,A),cachePolicy_UNSTABLE:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:p})}else m=Ge({key:l,get:u,cachePolicy_UNSTABLE:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:p});return o.set(r,m),ju(m.key,()=>{o.delete(r)}),m}}var Ae=Zu;const Yu=Ae({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Qu(e){return Yu(e)}var Ju=Qu;const Xu=Ae({key:"__error",get:e=>()=>{throw M(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ed(e){return Xu(e)}var td=ed;function nd(e){return e}var od=nd;const{loadableWithError:Ir,loadableWithPromise:$r,loadableWithValue:Mr}=st;function zt(e,t){const n=Array(t.length).fill(void 0),o=Array(t.length).fill(void 0);for(const[r,a]of t.entries())try{n[r]=e(a)}catch(s){o[r]=s}return[n,o]}function rd(e){return e!=null&&!G(e)}function Wt(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function un(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,o,r)=>({...n,[o]:t[r]}),{})}function Oe(e,t,n){const o=n.map((r,a)=>r==null?Mr(t[a]):G(r)?$r(r):Ir(r));return un(e,o)}function ad(e,t){return t.map((n,o)=>n===void 0?e[o]:n)}const sd=Ae({key:"__waitForNone",get:e=>({get:t})=>{const n=Wt(e),[o,r]=zt(t,n);return Oe(e,o,r)},dangerouslyAllowMutability:!0}),id=Ae({key:"__waitForAny",get:e=>({get:t})=>{const n=Wt(e),[o,r]=zt(t,n);return r.some(a=>!G(a))?Oe(e,o,r):new Promise(a=>{for(const[s,l]of r.entries())G(l)&&l.then(u=>{o[s]=u,r[s]=void 0,a(Oe(e,o,r))}).catch(u=>{r[s]=u,a(Oe(e,o,r))})})},dangerouslyAllowMutability:!0}),cd=Ae({key:"__waitForAll",get:e=>({get:t})=>{const n=Wt(e),[o,r]=zt(t,n);if(r.every(s=>s==null))return un(e,o);const a=r.find(rd);if(a!=null)throw a;return Promise.all(r).then(s=>un(e,ad(o,s)))},dangerouslyAllowMutability:!0}),ld=Ae({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Wt(e),[o,r]=zt(t,n);return r.every(a=>!G(a))?Oe(e,o,r):Promise.all(r.map((a,s)=>G(a)?a.then(l=>{o[s]=l,r[s]=void 0}).catch(l=>{o[s]=void 0,r[s]=l}):null)).then(()=>Oe(e,o,r))},dangerouslyAllowMutability:!0}),ud=Ae({key:"__noWait",get:e=>({get:t})=>{try{return Ge.value(Mr(t(e)))}catch(n){return Ge.value(G(n)?$r(n):Ir(n))}},dangerouslyAllowMutability:!0});var dd={waitForNone:sd,waitForAny:id,waitForAll:cd,waitForAllSettled:ld,noWait:ud};const{RecoilLoadable:fd}=st,{DefaultValue:hd}=le,{RecoilRoot:pd,useRecoilStoreID:_d}=be,{isRecoilValue:md}=Fe,{retentionZone:vd}=Vt,{freshSnapshot:Sd}=Dt,{useRecoilState:yd,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:gd,useRecoilStateLoadable:Rd,useRecoilValue:bd,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Td,useRecoilValueLoadable:wd,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Ad,useResetRecoilState:Ed,useSetRecoilState:Nd}=Pc,{useGotoRecoilSnapshot:Ld,useRecoilSnapshot:Cd,useRecoilTransactionObserver:Vd}=mr,{useRecoilCallback:Id}=gr,{noWait:$d,waitForAll:Md,waitForAllSettled:Ud,waitForAny:kd,waitForNone:Dd}=dd;var je={DefaultValue:hd,isRecoilValue:md,RecoilLoadable:fd,RecoilEnv:qe,RecoilRoot:pd,useRecoilStoreID:_d,useRecoilBridgeAcrossReactRoots_UNSTABLE:ul,atom:Cr,selector:Ge,atomFamily:Ku,selectorFamily:Ae,constSelector:Ju,errorSelector:td,readOnlySelector:od,noWait:$d,waitForNone:Dd,waitForAny:kd,waitForAll:Md,waitForAllSettled:Ud,useRecoilValue:bd,useRecoilValueLoadable:wd,useRecoilState:yd,useRecoilStateLoadable:Rd,useSetRecoilState:Nd,useResetRecoilState:Ed,useGetRecoilValueInfo_UNSTABLE:rl,useRecoilRefresher_UNSTABLE:Ol,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Ad,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Td,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:gd,useRecoilCallback:Id,useRecoilTransaction_UNSTABLE:Gl,useGotoRecoilSnapshot:Ld,useRecoilSnapshot:Cd,useRecoilTransactionObserver_UNSTABLE:Vd,snapshot_UNSTABLE:Sd,useRetain:Mn,retentionZone:vd},Pd=je.RecoilRoot,Bd=je.atom,Od=je.selector,xd=je.selectorFamily,Fd=je.useRecoilValue,zd=je.useRecoilState;const dn=Re.div`
  width: 400px;
  padding: 47px;
`,fn=Re.div`
  overflow: hidden;
`,hn=Re.div`
  position: relative;
  transition: transform 0.2s ease-in-out;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.1;
    background-color: var(--color-image-overlay);
    background-size: 100%;
    z-index: 1;
  }

  &:hover {
    transform: scale(1.05);
  }
`,pn=Re.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,_n=Re.span``,mn=Re.span`
  font-weight: 400;
  font-size: 20px;
  line-height: 27px;
`,vn=Re.div`
  width: 100%;
  padding: 18px 12px;
`,Sn=Re.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  height: 56px;
`;try{dn.displayName="ProductItemWrapper",dn.__docgenInfo={description:"",displayName:"ProductItemWrapper",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{fn.displayName="ImageOverflowContainer",fn.__docgenInfo={description:"",displayName:"ImageOverflowContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{hn.displayName="ImageContainer",hn.__docgenInfo={description:"",displayName:"ImageContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{pn.displayName="ProductItemImage",pn.__docgenInfo={description:"",displayName:"ProductItemImage",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{_n.displayName="ProductItemTitle",_n.__docgenInfo={description:"",displayName:"ProductItemTitle",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{mn.displayName="ProductItemPrice",mn.__docgenInfo={description:"",displayName:"ProductItemPrice",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{vn.displayName="ProductItemInfo",vn.__docgenInfo={description:"",displayName:"ProductItemInfo",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}try{Sn.displayName="ProductItemInfoUpperBoundary",Sn.__docgenInfo={description:"",displayName:"ProductItemInfoUpperBoundary",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}const Wd=(e,t)=>{const n=localStorage.getItem(e);return n?JSON.parse(n):t},Gd=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},qd={CART_ITEMS:"cartItems"},Kd=e=>({setSelf:t,onSet:n})=>{const o=Wd(e,null);o&&t(o),n(r=>{Gd(e,r)})},On=Bd({key:"cartItemsAtom",default:{},effects:[Kd(qd.CART_ITEMS)]});Od({key:"cartItemsQuantitySelector",get:({get:e})=>{const t=e(On);return Object.keys(t).length}});const jd=xd({key:"productQuantitySelector",get:e=>({get:t})=>{var o;return((o=t(On)[e])==null?void 0:o.quantity)??0}}),yn=Re.button`
  border: none;
  background: transparent;
  cursor: pointer;
`;try{yn.displayName="CartButton",yn.__docgenInfo={description:"",displayName:"CartButton",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"WebTarget"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}}}}}catch{}const Hd=()=>{const[e,t]=zd(On);return{updateCartItems:({itemId:r,itemCount:a})=>{const{[r]:s,...l}=e;s&&a<=0&&t(l),s&&a>0&&t(u=>({...u,[r]:{quantity:a}}))},addNewCartItem:r=>{t(a=>({...a,[r]:{quantity:1}}))}}},gn=({productID:e})=>{const t=Fd(jd(e)),{updateCartItems:n,addNewCartItem:o}=Hd(),r=()=>{o(e)},a=s=>{s!==t&&n({itemId:e,itemCount:s})};return re.jsx(re.Fragment,{children:t===0?re.jsx(yn,{onClick:r,children:re.jsx(Kr,{isFlipped:!0,width:24,height:22,fill:"#AAAAAA"})}):re.jsx(qr,{initialValue:t,getValue:a})})};try{gn.displayName="ProductQuantityController",gn.__docgenInfo={description:"",displayName:"ProductQuantityController",props:{productID:{defaultValue:null,description:"",name:"productID",required:!0,type:{name:"number"}}}}}catch{}const Rn=({id:e,name:t,price:n,imageUrl:o})=>re.jsxs(dn,{children:[re.jsx(fn,{children:re.jsx(hn,{children:re.jsx(pn,{src:o})})}),re.jsxs(vn,{children:[re.jsxs(Sn,{children:[re.jsx(_n,{children:t}),re.jsx(gn,{productID:e})]}),re.jsxs(mn,{children:[n.toLocaleString(),"원"]})]})]});try{Rn.displayName="ProductItem",Rn.__docgenInfo={description:"",displayName:"ProductItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const bn=e=>re.jsx(Pd,{children:re.jsx(Rn,{...e})});try{bn.displayName="ProductItemWrapper",bn.__docgenInfo={description:"",displayName:"ProductItemWrapper",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"number"}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!0,type:{name:"string"}}}}}catch{}const nf={title:"ProductItem",component:bn},St={args:{id:6,name:"[온라인단독] mini 하트 도형 14k 반지",price:49900,imageUrl:"http://image.elandgift.com/images/web/Product/20211123/JW20211123083458889001.jpg"}};var ho,po,_o;St.parameters={...St.parameters,docs:{...(ho=St.parameters)==null?void 0:ho.docs,source:{originalSource:`{
  args: {
    id: 6,
    name: '[온라인단독] mini 하트 도형 14k 반지',
    price: 49900,
    imageUrl: 'http://image.elandgift.com/images/web/Product/20211123/JW20211123083458889001.jpg'
  }
}`,...(_o=(po=St.parameters)==null?void 0:po.docs)==null?void 0:_o.source}}};const of=["Primary"];export{St as Primary,of as __namedExportsOrder,nf as default};
//# sourceMappingURL=ProductItem.stories-b144a2c6.js.map
